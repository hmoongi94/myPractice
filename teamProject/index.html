<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="./styles/styles.css">
</head>

<body>

    <div id="container">
        <div class="pokeBox">피카츄</div>
        <div class="pokeBox">파이리</div>
        <div class="pokeBox">꼬부기</div>
        <div class="pokeBox">리자몽</div>
        <div class="pokeBox">버터풀</div>
        <div class="pokeBox">야도란</div>
        <div class="pokeBox">또가스</div>
        <div class="pokeBox">피죤투</div>
        <div class="pokeBox">후딘</div>
    </div>

    <input type="submit" name="submit" action="/sub.html" id="submit" value="장바구니"></input>

    <!-- 나중에 수정할 부분 -->
    <script src="app.js"></script>
    <script>
        // 데이터 객체 생성

const pokemon = document.getElementsByClassName("pokeBox")
console.log(pokemon)

// let pokemonName = []
// for(i=0; i<pokemon.length; i++){
//     pokemonName[i] = pokemon[i].textContent
// }
// console.log(pokemonName)

// function dataToSend(){
//   pokemonName.forEach(element => {
//    return element.textContent 
//   });
// }

// 버튼 클릭 이벤트 리스너
const sendButton = document.getElementById('container');
sendButton.addEventListener('click', (event) => {

  // 데이터를 JSON 문자열로 변환
//   console.log(dataToSend())
  const jsonData = JSON.stringify(event.target.textContent);
  console.log(jsonData)


  // AJAX 또는 Fetch API를 사용하여 데이터를 백엔드 서버로 전송
  fetch('/data', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: jsonData
  })
  .then(response => response.json())
  .then(responseData => {
    console.log('서버로부터 응답 받음:', responseData);
  })
  .catch(error => {
    console.error('에러 발생:', error);
  });

});
    </script>

</body>
