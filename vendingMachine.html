<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VendingMachine</title>
  <style>
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
  </style>
</head>
<body>
<div id="root"></div>

  <script>
    // rootíƒœê·¸
  let root = document.getElementById("root")
  root.style.display = "flex"
  root.style.width = "100vw"
  root.style.height = "100vh"
  root.style.flexWrap = "nowrap"
  // root.stlye.overflow = "scroll"
  console.dir(root)

  let goods = {
    goods1: ["3000ì›", "ğŸ˜—"],
    goods2: ["1500ì›", "ğŸ¤ª"],
    goods3: ["900ì›", "ğŸ¤“"],
    goods4: ["1900ì›", "ğŸ˜‹"],
    goods5: ["300ì›","ğŸ§"],
    goods6: ["700ì›", "ğŸ˜‘"],
    goods7: ["1200ì›","ğŸ¥±"],
    goods8: ["2200ì›","ğŸ˜£"],
    goods9: ["1000ì›","ğŸ¥´"],
    goods10: ["1800ì›", "ğŸ¤¢"],
    goods11: ["2300ì›","ğŸ¤ "],
    goods12: ["1100ì›","ğŸ¥°"],
    goods13: ["800ì›","ğŸ˜Œ"],
    goods14: ["2000ì›","ğŸ‘½"],
    goods15: ["3100ì›","ğŸ’€"],
    goods16: ["1900ì›","ğŸ¤¡"],
    goods17: ["1500ì›","ğŸ™„"],
    goods18: ["100ì›","ğŸ¤–"],
    goods19: ["1600ì›","ğŸ "],
    goods20: ["900ì›","ğŸ—"]
  }

  // console.log(goods.goods1[0])
  // console.log(goods.goods1[1])

  // createElementíƒœê·¸
  let ul = document.getElementsByTagName("ul")
  let li = document.getElementsByTagName("li")
  let div = document.getElementsByTagName("div")
  let input = document.getElementsByTagName("input")
  let button = document.getElementsByTagName("button")
  let pTag = document.getElementsByTagName("p")
  let h1Tag = document.getElementsByTagName("h1")
  // console.dir(li)


  // Ulíƒœê·¸
  makeUl = document.createElement("ul")
  root.appendChild(makeUl)
  ul[0].style.display = "flex"
  ul[0].style.width = "58vw"
  ul[0].style.height = "86vh"
  ul[0].style.flexWrap = "wrap"
  ul[0].style.justifyContent = "space-evenly"
  ul[0].style.marginLeft ="5vw"
  ul[0].style.marginTop ="7vh"
  

  // liíƒœê·¸ 
  for(i=0; i<20; i++){
    let makeLi = document.createElement("li")
    ul[0].appendChild(makeLi)
    li[i].style.listStyleType = "none"
    li[i].style.width = "16vh"
    li[i].style.height = "16vh"
    li[i].style.backgroundColor = "grey"
    li[i].style.display = "flex"
    li[i].style.flexShrink = "0"
    li[i].style.alignItems = "center"
    li[i].style.flexDirection = "column"
  }
  
  // liíƒœê·¸ ë° píƒœê·¸
  for (let j = 0; j <3; j++) {
      for(let i = 0; i < 20; i++) {
        let makeP = document.createElement('p');
        li[i].appendChild(makeP)
      }
    }

  // píƒœê·¸ ì•ˆì— ê°ì²´ goods í‚¤ê°’ìœ¼ë¡œ ì ‘ê·¼í•´ valueê°’ í• ë‹¹í•˜ê¸°

    // const keys = Object.keys(goods)
    // const value = [];
    // for(let i=0; i<keys.length; i++){
    //   const key = keys[i]
    // }

    const keys = Object.keys(goods)
  for(i=0; i<keys.length; i++){
    pTag[i*3].textContent = Object.values(goods)[i][1]
    pTag[i*3].style.width = "12vh"
    pTag[i*3].style.height = "8vh"
    pTag[i*3].style.display = "flex"
    pTag[i*3].style.alignItems = "center"
    pTag[i*3].style.justifyContent = "center"
    pTag[i*3].style.fontSize = "6vh"
    pTag[i*3+1].textContent = Object.values(goods)[i][0]
    pTag[i*3+2].textContent = i+1
    pTag[i*3+2].style.marginTop = "2vw"
    pTag[i*3+2].style.marginRight = "8vw"
    }


    // ul[0].addEventListener("click",function(eventTarget){
    //   console.dir(eventTarget)
    //     console.log(eventTarget.target.children[1].textContent)         
    // })
    
    // for(i=0; i<li.length; i++){
    //   li[i].addEventListener("click",function(eventTarget){
    //     // console.dir(event.currentTarget)             
    //     const liValue = parseInt(event.currentTarget.children[1].textContent)
    //     const inputValue = input[0].value
        
    //     if(event.currentTarget.style.backgroundColor === "grey"){
    //       console.log(liValue)
    //       console.log(inputValue)
    //       event.currentTarget.style.backgroundColor = "pink"
    //       return liValue
    //     }
        
    //     else if(event.currentTarget.style.backgroundColor === "pink"){
    //       event.currentTarget.style.backgroundColor = "grey"
    //     }
    //   })
    // }

    // console.log(Object.keys(goods)[0])
    // console.log(Object.values(goods)[0][0])

  

  // ê°€ìš´ë° ê²½ê³„ì„  Divíƒœê·¸
  let makeDiv = document.createElement("div")
  root.appendChild(makeDiv)
  div[1].style.width="1vw"
  div[1].style.height="86vh"
  div[1].style.backgroundColor="#92AC98"
  div[1].style.marginLeft="2vw"
  div[1].style.marginTop="7vh"

  // ì˜¤ë¥¸ìª½ ì „ì²´ì˜ì—­ Divíƒœê·¸
  let makeDiv2 = document.createElement("div")
  root.appendChild(makeDiv2)
  div[2].style.width="24vw"
  div[2].style.height="86vh"
  div[2].style.display="flex"
  div[2].style.flexDirection="column"
  div[2].style.marginLeft="3vw"
  div[2].style.marginTop="7vh"

  // GreenAcademy í…ìŠ¤íŠ¸ Div íƒœê·¸
  let makeDiv3 =document.createElement("div")
  div[2].appendChild(makeDiv3)
  div[3].style.width="24vw"
  div[3].style.height="20vh"
  div[3].style.color="#f66"
  div[3].style.textAlign= "center"
  div[3].style.fontFamily="jua"
  div[3].style.fontSize="5vh"
  div[3].style.fontStyle="normal"
  div[3].style.fontWeight="400"
  div[3].style.lineHeight="normal"
  div[3].style.marginTop="10vh"
  div[3].textContent="Green Academy Vending Machine"


  // "liEmojië¥¼ ë½‘ì•˜ìŠµë‹ˆë‹¤."
  let makeDiv4 = document.createElement("div")
  root.appendChild(makeDiv4)
  div[4].style.width="100vw"
  div[4].style.height="100vh"
  div[4].style.display = "flex"
  div[4].style.flexDirection = "column"
  div[4].style.justifyContent = "center"
  div[4].style.alignItems = "center"
  div[4].style.position = "absolute"
  div[4].style.zIndex = -1
  let makeH1 = document.createElement("h1")
  div[4].appendChild(makeH1)

  // "ê¸ˆì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤"
  let makeDiv5 = document.createElement("div")
  root.appendChild(makeDiv5)
  div[5].style.width="100vw"
  div[5].style.height="100vh"
  div[5].style.display = "flex"
  div[5].style.justifyContent = "center"
  div[5].style.alignItems = "center"
  div[5].style.position = "absolute"
  div[5].style.zIndex = -2
  let makeH2 = document.createElement("h1")
  div[5].appendChild(makeH2)

  // ì”ëˆ ë²„íŠ¼ ëˆŒë €ì„ ë•Œ
  let makeDiv6 = document.createElement("div")
  root.appendChild(makeDiv6)
  div[6].style.width="100vw"
  div[6].style.height="100vh"
  div[6].style.display = "flex"
  div[6].style.justifyContent = "center"
  div[6].style.alignItems = "center"
  div[6].style.position = "absolute"
  div[6].style.zIndex = -3
  let makeH3 = document.createElement("h1")
  div[6].appendChild(makeH3)

  // Inputíƒœê·¸
  let makeInput = document.createElement("input")
  div[2].appendChild(makeInput)
  input[0].type="text"
  input[0].id = "input-money"
  input[0].placeholder="ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”"
  input[0].style.width="24vw"
  input[0].style.height="6vh"
  input[0].style.fontSize="20px"
  input[0].style.borderRadius="10px"
  input[0].style.background = "#f1f1f1"
  input[0].style.boxShadow = "2px 4px 4px 0px rgba(0,0,0,0.10)"
  input[0].style.marginTop = "3.5vh"

  
  // input[0].addEventListener("click",function(){
  //   console.dir(input[0])
  // })
  
  

  // Buttoníƒœê·¸
  let makeButton = document.createElement("button")
  div[2].appendChild(makeButton)
  button[0].id = "goods-choice"
  button[0].style.width = "28vh"
  button[0].style.height = "28vh"
  button[0].style.fontSize = "9vh"
  button[0].style.color = "white"
  button[0].style.borderRadius = "163.5px"
  button[0].style.background = "#f66"
  button[0].style.boxShadow = "2px 4px 4px 0px rgba(0,0,0,0.10)"
  button[0].style.textAlign = "center"
  button[0].style.justifyContent = "center"
  button[0].style.fontWeight = "400"
  button[0].style.marginTop = "7.5vh"
  button[0].style.marginLeft = "3.5vw"
  button[0].textContent = "ë½‘ê¸°"
  console.dir(button[0])

  
  let liValue
  let liemoji
  let liChoice
  let inputValue


  // addEventListener 
  for(i=0; i<li.length; i++){
    
    li[i].addEventListener("click",function(eventTarget){
      // console.dir(event.currentTarget)             
      liValue = parseInt(event.currentTarget.children[1].textContent)
      liemoji = event.currentTarget.children[0].textContent
      liChoice = event.currentTarget
      
      if(event.currentTarget.style.backgroundColor === "grey"     
      ){
        // console.log(liValue)
        // console.log(inputValue)       

      // ì¤‘ë³µì„ íƒ ì‹œ, ìƒ‰ ì´ˆê¸°í™”
          for(i=0; i<li.length; i++){
              li[i].style.background = "grey"
            }
        event.currentTarget.style.backgroundColor = "pink"


      // liValue ì¤‘ë³µì„ íƒ ê°’ í•©í•˜ê¸° 

        // for(i=0; i<li.length; i++){
        //   if(li[i].style.bakcgroundColor==="pink"){
        //     liValue += parseInt(li[i].children[1].textContent)
        //   }
        // }

  

        console.log(liValue)
        console.log("ìƒí’ˆì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.")
        
      }
      
      // else if(event.currentTarget.style.backgroundColor === "pink"){
        else{
          event.currentTarget.style.backgroundColor = "grey"
          console.log("ìƒí’ˆì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.")
          
        }
      })
    }
    
    button[0].addEventListener("click",function(){
      inputValue = parseInt(input[0].value)
      if(inputValue>=liValue && liChoice.style.backgroundColor === "pink"){
        console.log(`${liemoji}ë½‘ì•˜ìŠµë‹ˆë‹¤.`)
        div[4].style.zIndex = 1
        div[4].style.fontSize = "5vw"     
        div[4].children[0].textContent = `${liemoji}ë¥¼ ë½‘ì•˜ìŠµë‹ˆë‹¤`
        div[4].style.backdropFilter = "blur(20.5px)"

        let makeButton2 = document.createElement("button")
        div[4].appendChild(makeButton2)
        button[1].style.width = "28vh"
        button[1].style.height = "28vh"
        button[1].style.fontSize = "9vh"
        button[1].style.color = "white"
        button[1].style.borderRadius = "163.5px"
        button[1].style.background = "#f66"
        button[1].style.boxShadow = "2px 4px 4px 0px rgba(0,0,0,0.10)"
        button[1].style.textAlign = "center"
        button[1].style.justifyContent = "center"
        button[1].style.fontWeight = "400"
        button[1].style.marginTop = "7.5vh"
        button[1].style.marginLeft = "3.5vw"
        button[1].textContent = "ì”ëˆ"
      }

      else if(inputValue<liValue && liChoice.style.backgroundColor === "pink"){
        console.log("ê¸ˆì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.")  
        div[5].style.zIndex = 1
        div[5].style.fontSize = "5vw"     
        div[5].children[0].textContent = `ê¸ˆì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤!`
        div[5].style.backdropFilter = "blur(20.5px)"
               
            }
            else {
              console.log("ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.")
              return "ìƒí’ˆ ì„ íƒ"
            }

          })
    
    div[4].addEventListener("click",function(Target){
      if(event.target === button[1]){
        div[6].style.zIndex = 1
        div[6].style.fontSize = "5vw"
        div[6].style.backdropFilter = "blur(20.5px)"
        div[6].children[0].textContent = `${inputValue-liValue}ì›ì´  ë‚¨ì•˜ìŠµë‹ˆë‹¤.`

        div[6].addEventListener("click",function(){
          div[4].style.zIndex = -1
          div[4].children[0].textContent = ""
          button[1].remove()
          div[6].style.zIndex = -3
          div[6].children[0].textContent =""

        })
      }
      else{
      div[4].style.zIndex = -1
      div[4].children[0].textContent = ""
      button[1].remove()
      console.dir(Target)
      }

    })

    div[5].addEventListener("click",function(eventTarget){
      event.currentTarget.style.zIndex = -2
      event.currentTarget.children[0].textContent = ""
    })
      
  

//   for(i=0; i<li.length; i++){
//   button[0].addEventListener("click",function(){
    
//     const inputValue = input[0].value 
//     console.log(liValue)
//     if(liValue !== null && inputValue !==null){
//       console.log("ë½‘ê¸°")
//     }

//   })
// }
  

  
 
    // let goodsPrice = [3000, 1500, 900, 1900, 300,
    //               700, 1200, 2200, 1000, 1800,
    //               2300, 1100, 800, 2000, 3100,
    //               1900, 1500, 100, 1600, 900]

    // let emoji = ["ğŸ˜—","ğŸ¤ª","ğŸ¤“","ğŸ˜‹","ğŸ§","ğŸ˜‘","ğŸ¥±","ğŸ˜£","ğŸ¥´","ğŸ¤¢","ğŸ¤ ","ğŸ¥°","ğŸ˜Œ","ğŸ‘½","ğŸ’€","ğŸ¤¡","ğŸ™„","ğŸ¤–","ğŸ ","ğŸ—"]

</script>

</body>
</html>